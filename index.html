<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Elly ðŸ’Œ</title>
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --pink-light: #ffb6c1;
      --pink: #ff69b4;
      --pink-dark: #c94e68;
      --bg-overlay: rgba(255, 255, 255, 0.9);
      --text-dark: #333;
      --radius: 12px;
      --transition: 0.3s ease;
    }
    [data-theme="dark"] {
      --bg-overlay: #2c2c2c;
      --text-dark: #eee;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      background: url('https://amsterdamian.com/wp-content/uploads/2021/03/tulips-7jpg_s.jpg') no-repeat center/cover fixed;
      color: var(--text-dark);
      scroll-behavior: smooth;
      overflow-x: hidden;
      background-color: var(--bg-overlay);
    }
    header {
      position: fixed; top: 0; width: 100%;
      background: var(--bg-overlay);
      backdrop-filter: blur(10px);
      transition: background var(--transition), transform var(--transition);
      z-index: 1000;
    }
    header.scrolled { transform: translateY(-80%); }
    nav {
      max-width: 1100px; margin: auto;
      display: flex; justify-content: center; gap: 2rem;
      padding: 0.5rem;
    }
    nav a {
      font-weight: 500;
      color: var(--pink-dark);
      text-decoration: none;
      padding: 0.5rem;
      border-radius: var(--radius);
      transition: var(--transition);
    }
    nav a.active,
    nav a:hover {
      background: var(--pink-light);
      color: #fff;
    }
    #themeToggle {
      position: absolute; right: 1rem; top: 1rem;
      background: none; border: none;
      cursor: pointer; font-size: 1.2em;
    }
    main { padding-top: 4rem; }
    .screen { display: none; padding: 6rem 1rem 1rem; text-align: center; }
    .screen.active { display: flex; flex-direction: column; align-items: center; }
    h1, h2 { color: var(--pink-dark); margin-bottom: 1rem; }
    h1 { font-size: 2.5em; }

    /* Intro */
    .intro h1 {
      font-family: 'Pacifico', cursive;
      font-size: 3.5em;
      color: #ffeef2;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
      animation: bounce 1.5s infinite alternate;
    }
    .intro button {
      margin-top: 1rem;
      padding: 0.8em 2em;
      font-size: 1.2em;
      background: linear-gradient(to right, var(--pink-light), var(--pink));
      color: #fff;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(255,105,180,0.4);
      animation: pulse 2s infinite;
      transition: transform .2s;
    }
    .intro button:hover { transform: scale(1.05); }

    /* Overlay Containers */
    .overlay {
      background: var(--bg-overlay);
      padding: 2rem;
      border-radius: var(--radius);
      max-width: 800px; width: 95%;
      max-height: 85vh; overflow-y: auto;
      box-shadow: 0 8px 40px rgba(0,0,0,0.1);
    }
    .counter { font-size: 1.1em; margin-bottom: 1rem; }
    #typedText {
      font-size: 1.1em;
      line-height: 1.6;
      white-space: pre-wrap;
      opacity: 0;
      transition: opacity 1s ease;
      min-height: 150px;
      margin-bottom: 2rem;
    }

    /* Gallery */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .photo-card {
      position: relative;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: transform var(--transition);
      cursor: pointer;
    }
    .photo-card img {
      width: 100%; height: 200px;
      object-fit: cover;
      display: block;
    }
    .photo-card:hover { transform: scale(1.03); }
    .photo-card .caption {
      position: absolute; bottom: 0; width: 100%;
      background: var(--pink-light); color: #fff;
      padding: 0.5rem; font-size: 0.9em;
      text-align: center;
    }

    /* Lightbox */
    #lightbox {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: none; align-items: center; justify-content: center;
      z-index: 2000;
    }
    #lightbox img { max-width: 90%; max-height: 80%; }
    #lightbox .close {
      position: absolute; top: 2rem; right: 2rem;
      font-size: 2rem; color: #fff;
      cursor: pointer;
    }

    /* Playlist Embed */
    .playlist-embed iframe {
      border-radius: var(--radius);
      width: 100%; height: 352px;
    }

    /* Scroll-to-top */
    #toTop {
      position: fixed; bottom: 1rem; right: 1rem;
      padding: 0.8rem;
      background: var(--pink);
      color: #fff;
      border: none;
      border-radius: 50%;
      font-size: 1.5em;
      cursor: pointer;
      display: none;
    }

    /* Animations */
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-8px); } }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(255,105,180,0.5); } 70% { box-shadow: 0 0 0 15px rgba(255,105,180,0); } 100% { box-shadow: 0; } }
  </style>
</head>
<body data-theme="light">
  <!-- Floating Hearts -->
  <script>
    setInterval(() => {
      const heart = document.createElement('div');
      heart.textContent = 'â¤ï¸';
      Object.assign(heart.style, {
        position: 'fixed',
        left: `${Math.random() * 100}vw`,
        top: `${Math.random() * 100}vh`,
        pointerEvents: 'none'
      });
      document.body.appendChild(heart);
      heart.animate([
        { transform: 'scale(1)', opacity: 1 },
        { transform: 'scale(0)', opacity: 0 }
      ], { duration: 2000 });
      setTimeout(() => heart.remove(), 2000);
    }, 800);
  </script>

  <!-- Audio Controls -->
  <div class="audio-controls">
    <button id="musicToggle" aria-label="Toggle music">ðŸ”Š</button>
    <audio id="bgMusic" loop>
      <source src="https://cdn.pixabay.com/download/audio/2023/03/26/audio_2f93402b08.mp3?filename=romantic-music-144109.mp3" type="audio/mp3">
    </audio>
  </div>

  <header role="banner">
    <nav role="navigation">
      <a href="#home" class="active" data-target="home">Home</a>
      <a href="#letter" data-target="letter">Letter</a>
      <a href="#playlist" data-target="playlist">Playlist ðŸŽµ</a>
    </nav>
    <button id="themeToggle" aria-label="Toggle theme">ðŸŒ™</button>
  </header>

  <main>
    <section id="home" class="screen active">
      <div class="intro">
        <h1>For Elly ðŸ’Œ</hn>
        <button data-target="letter">Open</button>
      </div>
    </section>

    <section id="letter" class="screen">
      <div class="overlay reveal">
        <p id="togetherCounter" class="counter" aria-live="polite"></p>
        <p id="knownCounter" class="counter" aria-live="polite"></p>
        <h1>Happy 7 Months, Elly ðŸŒ¸</h1>
        <div id="typedText"></div>
<div id="countdown">
  <span id="days">0</span> days
  <span id="hours">0</span> hours
  <span id="minutes">0</span> minutes
  <span id="seconds">0</span> seconds
</div>

<script>
  // Set target date/time: Monday, July 14, 2025 at 00:00:00
  const target = new Date('2025-07-14T00:00:00').getTime();

  function updateCountdown() {
    const now = Date.now();
    const diff = target - now;

    if (diff <= 0) {
      document.getElementById('countdown').textContent = 'ðŸŽ‰ Itâ€™s here! ðŸŽ‰';
      clearInterval(intervalId);
      return;
    }

    const secs = Math.floor(diff / 1000 % 60);
    const mins = Math.floor(diff / (1000 * 60) % 60);
    const hrs  = Math.floor(diff / (1000 * 60 * 60) % 24);
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));

    document.getElementById('days').textContent    = days;
    document.getElementById('hours').textContent   = hrs;
    document.getElementById('minutes').textContent = mins;
    document.getElementById('seconds').textContent = secs;
  }

  // first call
  updateCountdown();
  // update every second
  const intervalId = setInterval(updateCountdown, 1000);
</script>

                <!-- Gallery -->
        <!-- Gallery -->
      <div class="gallery"> <!-- Photo Cards --> <!-- Copy-paste from your existing photo cards, unchanged --> <!-- Just updating layout & transitions -->
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FTxgPNk2KZKM9lts5EFTr%2Fimg_0322.jpg?alt=media&token=2db64a6c-3308-40e5-bb85-8bdfda6aff73" alt="Photo 1"> 
        <div class="caption">Successful Suitcase Rummage</div> 
        </div>
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FTxgPNk2KZKM9lts5EFTr%2Fimg_0993.jpg?alt=media&token=4cf78323-83c1-4b69-a830-24bda274896a" alt="Photo 2">
          <div class="caption">Our Painting Date</div>
        </div>
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FTxgPNk2KZKM9lts5EFTr%2Fimg_9871.jpg?alt=media&token=ca02f570-3592-471b-9425-51045387e4f5" alt="Photo 3"> 
          <div class="caption">Wardrobe Swap Wooo</div> 
        </div> 
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FPrWdn00KRqq1WqGt79IW%2Fimg_1238.jpg?alt=media&token=2b8fd76a-7be9-4e09-8a48-53aeeef8f330" alt="Photo 4"> 
          <div class="caption">Our Silly Moments</div> 
        </div> 
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FPrWdn00KRqq1WqGt79IW%2Fimg_0872.jpg?alt=media&token=4c5fbaa4-a71a-499d-8f63-b1cecdbf23c3" alt="Photo 5">
          <div class="caption">Your Birthday</div>
        </div> 
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FPrWdn00KRqq1WqGt79IW%2Fimg_0508.jpg?alt=media&token=30dcaa2c-11b7-4170-8b81-111223ced5ab" alt="Photo 6"> 
          <div class="caption">Awww She's So Tall</div>
        </div>
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FPrWdn00KRqq1WqGt79IW%2Fimg_0514.jpg?alt=media&token=59de08a2-e876-4c47-a829-fbe0801a6cd3" alt="Photo 7">
          <div class="caption">You + Me = ðŸ’•</div> 
        </div> 
        <div class="photo-card"> <img src="https://firebasestorage.googleapis.com/v0/b/codedex-io.appspot.com/o/buildAssets%2FPrWdn00KRqq1WqGt79IW%2Fimg_8643.jpg?alt=media&token=a8e21764-3716-4303-bdb6-dc61c790cbb2" alt="Photo 8"> 
          <div class="caption">Where It Officially Started</div>
        </div> 
      </div> 
    </div> 
  </div>
    </section>

    <section id="playlist" class="screen">
      <div class="overlay reveal playlist-embed">
        <h2>Our Love Playlist</h2>
        <iframe src="https://open.spotify.com/embed/playlist/0KvD6vNxSfTJsEAlTjPjBK?utm_source=generator&theme=0"
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"></iframe>
      </div>
    </section>
  </main>

  <div id="lightbox" role="dialog" aria-modal="true">
    <span class="close" aria-label="Close">Ã—</span>
    <img alt="Expanded photo">
  </div>
  <button id="toTop" aria-label="Scroll to top">â†‘</button>

  <script>
    const screens = document.querySelectorAll('.screen');
    const navLinks = document.querySelectorAll('nav a');
    const themeToggle = document.getElementById('themeToggle');
    const musicBtn = document.getElementById('musicToggle');
    const music = document.getElementById('bgMusic');
    const toTop = document.getElementById('toTop');

    // Navigation
    function showScreen(id) {
      screens.forEach(s => s.classList.toggle('active', s.id === id));
      navLinks.forEach(a => a.classList.toggle('active', a.dataset.target === id));
      if (id === 'letter') startTyping();
    }
    navLinks.forEach(link => link.addEventListener('click', e => {
      e.preventDefault(); showScreen(link.dataset.target);
    }));
    document.querySelector('.intro button').addEventListener('click', () => showScreen('letter'));

    // Typing effect
    function startTyping() {
      const text = `I wish I could be right beside you today, but until then.\n\nThank you for being my sunshine and softness through it all.\n\nI might not always say it the right way, but I hope you always feel how deeply I love you.\n\nHereâ€™s to every beautiful, silly, and perfectly imperfect moment weâ€™ve shared. ðŸ’–`;
      const tgt = document.getElementById('typedText');
      tgt.textContent = '';
      tgt.style.opacity = 1;
      Array.from(text).forEach((ch, i) => setTimeout(() => tgt.textContent += ch, 35 * i));
    }

    // Day counters
    function updateCounters() {
      const now = Date.now();
      const together = Math.floor((now - new Date('2024-11-25')) / 864e5);
      const known = Math.floor((now - new Date('2024-09-06')) / 864e5);
      document.getElementById('togetherCounter').textContent = `Together for ${together} days ðŸ’˜`;
      document.getElementById('knownCounter').textContent = `Known for ${known} days ðŸ’˜`;
    }
    updateCounters();

    // Theme toggle
    themeToggle.addEventListener('click', () => {
      const theme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
      document.body.dataset.theme = theme;
      themeToggle.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
      localStorage.setItem('theme', theme);
    });
    if (localStorage.theme) document.body.dataset.theme = localStorage.theme;

    // Music control
    musicBtn.addEventListener('click', () => {
      if (music.paused) { music.play(); musicBtn.textContent = 'ðŸ”‡'; }
      else { music.pause(); musicBtn.textContent = 'ðŸ”Š'; }
    });

    // Scroll & reveal
    let lastY = 0;
    window.addEventListener('scroll', () => {
      document.querySelector('header').classList.toggle('scrolled', window.scrollY > lastY);
      document.querySelectorAll('.reveal').forEach(el => {
        if (el.getBoundingClientRect().top < window.innerHeight * 0.9) el.style.animation = 'fadeIn 0.6s forwards';
      });
      lastY = window.scrollY;
      toTop.style.display = window.scrollY > 300 ? 'block' : 'none';
    });
    toTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Lightbox
    const lightbox = document.getElementById('lightbox');
    document.querySelectorAll('.photo-card img').forEach(img => img.addEventListener('click', () => {
      lightbox.querySelector('img').src = img.src;
      lightbox.style.display = 'flex';
    }));
    lightbox.querySelector('.close').addEventListener('click', () => lightbox.style.display = 'none');
    window.addEventListener('keydown', e => { if (e.key === 'Escape' && lightbox.style.display === 'flex') lightbox.style.display = 'none'; });

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('/service-worker.js'));
    }
  </script>
</body>
</html>
